# Custom Grok patterns for microservices

# Microservice log format
MICROSERVICE_LOG %{TIMESTAMP_ISO8601:timestamp} \[%{DATA:service}\] %{LOGLEVEL:level} - %{GREEDYDATA:message}

# API Gateway patterns
API_REQUEST %{IP:client_ip} - %{USER:user} \[%{HTTPDATE:timestamp}\] "%{WORD:method} %{URIPATHPARAM:path} HTTP/%{NUMBER:http_version}" %{NUMBER:status} %{NUMBER:bytes} %{QS:referer} %{QS:user_agent}

# Kafka patterns
KAFKA_TOPIC \[%{DATA:topic}\]
KAFKA_PARTITION partition=%{NUMBER:partition}
KAFKA_OFFSET offset=%{NUMBER:offset}

# Chat service patterns
CHAT_MESSAGE user=%{DATA:user_id} room=%{DATA:room_id} message=%{GREEDYDATA:chat_content}

# Game service patterns
GAME_EVENT game_id=%{DATA:game_id} player=%{DATA:player_id} action=%{DATA:action} score=%{NUMBER:score}

# Error patterns
ERROR_STACK %{GREEDYDATA:error_message}\n%{GREEDYDATA:stack_trace}
